!function(){"use strict";var t,n={773:function(t,n,e){e.r(n)},616:function(t,n,e){e.r(n)},202:function(t,n,e){e.r(n)},78:function(t,n,e){e.r(n)},803:function(t,n,e){e.r(n)},262:function(t,n,e){e.r(n)},362:function(t,n,e){e.r(n)},191:function(t,n,e){e.r(n)},500:function(t,n,e){e.r(n)},850:function(t,n,e){e.r(n)},724:function(t,n){var e=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((r=r.apply(t,n||[])).next())}))},r=this&&this.__generator||function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(t,a)}catch(t){s=[6,t],r=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};n.__esModule=!0,n.switchToDriveMode=n.stopEngineCar=n.startEngineCar=n.deleteCar=n.createCar=n.updateCar=n.getCar=n.getAllCars=n.deleteWinner=n.updateWinner=n.createWinner=n.getWinner=n.getAllWinners=void 0;var o="http://localhost:3000";n.getAllWinners=function(t,n,i,a){return void 0===n&&(n="time"),void 0===i&&(i="ASC"),void 0===a&&(a=10),e(void 0,void 0,void 0,(function(){var e;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(o,"/winners?_page=").concat(t,"&_limit=").concat(a,"&_sort=").concat(n,"&_order=").concat(i))];case 1:return[4,(e=r.sent()).json()];case 2:return[2,{result:r.sent(),totalCount:e.headers.get("X-Total-Count")||"0"}];case 3:throw r.sent(),new Error("err");case 4:return[2]}}))}))},n.getWinner=function(t){return e(void 0,void 0,void 0,(function(){var n,e,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(o,"/winners/").concat(t))];case 1:return[4,(n=r.sent()).json()];case 2:return e=r.sent(),[2,{status:n.status,result:e}];case 3:throw i=r.sent(),new Error(i.message);case 4:return[2]}}))}))},n.createWinner=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/winners"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return[2,e.sent().status];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))},n.updateWinner=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/winners/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return e.sent(),[3,3];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))},n.deleteWinner=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/winners/").concat(t),{method:"DELETE"})];case 1:return e.sent(),[3,3];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))},n.getAllCars=function(t,n){return void 0===t&&(t=1),void 0===n&&(n=7),e(void 0,void 0,void 0,(function(){var e,i,a;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(o,"/garage?_limit=").concat(n,"&_page=").concat(t))];case 1:return[4,(e=r.sent()).json()];case 2:return i=r.sent(),200===e.status?[2,{cars:i,count:e.headers.get("X-Total-Count")||"0"}]:[2,null];case 3:throw a=r.sent(),new Error(a.message);case 4:return[2]}}))}))},n.getCar=function(t){return e(void 0,void 0,void 0,(function(){var n,e,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(o,"/garage/").concat(t))];case 1:return[4,(n=r.sent()).json()];case 2:return e=r.sent(),200===n.status?[2,e]:[2,null];case 3:throw i=r.sent(),new Error(i.message);case 4:return[2]}}))}))},n.updateCar=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/garage/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return e.sent(),[3,3];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))},n.createCar=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/garage"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})];case 1:return e.sent(),[3,3];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))},n.deleteCar=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/garage/").concat(t),{method:"DELETE"})];case 1:return e.sent(),[3,3];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))},n.startEngineCar=function(t){return e(void 0,void 0,void 0,(function(){var n,e,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(o,"/engine?id=").concat(t,"&status=started"))];case 1:return[4,(n=r.sent()).json()];case 2:return e=r.sent(),[2,{status:n.status,result:e}];case 3:throw i=r.sent(),new Error(i.message);case 4:return[2]}}))}))},n.stopEngineCar=function(t){return e(void 0,void 0,void 0,(function(){var n,e,i;return r(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,fetch("".concat(o,"/engine?id=").concat(t,"&status=stopped"))];case 1:return[4,(n=r.sent()).json()];case 2:return e=r.sent(),[2,{status:n.status,result:e}];case 3:throw i=r.sent(),new Error(i.message);case 4:return[2]}}))}))},n.switchToDriveMode=function(t){return e(void 0,void 0,void 0,(function(){var n;return r(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("".concat(o,"/engine?id=").concat(t,"&status=drive"))];case 1:return[2,e.sent().status];case 2:throw n=e.sent(),new Error(n.message);case 3:return[2]}}))}))}},752:function(t,n,e){n.__esModule=!0,n.App=void 0;var r=e(425),o=e(440),i=e(977),a=function(){function t(t){this.rootElement=t,new i.Header(this.rootElement),this.main=new r.Component(this.rootElement,"main",["main"]),this.router=new o.Router(this.main.element)}return t.prototype.init=function(){this.router.initRouter()},t}();n.App=a},810:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.UIButton=void 0,e(773);var i=function(t){function n(n,e,r,o){var i;void 0===e&&(e=[]),void 0===o&&(o=!1);var a=t.call(this,n,"button",["btn"],r)||this;return a.onClickButton=function(){},(i=a.element.classList).add.apply(i,e),a.element.addEventListener("click",(function(){return a.onClickButton()})),o&&a.setDisabled(!0),a}return o(n,t),n.prototype.setDisabled=function(t){void 0===t&&(t=!1),this.element.toggleAttribute("disabled",t)},n.prototype.removeDisabled=function(){this.element.removeAttribute("disabled")},n}(e(425).Component);n.UIButton=i},430:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.UIInput=void 0;var i=e(425);e(616);var a=function(t){function n(n,e,r,o){var i;void 0===r&&(r=[]);var a=t.call(this,n,"input",["ui-input"])||this;return a.getInputValue=function(){},a.element.setAttribute("type",e),(i=a.element.classList).add.apply(i,r),o&&a.element.setAttribute("value",o),a.element.addEventListener("input",(function(t){return a.getInputValue(t)})),a}return o(n,t),n}(i.Component);n.UIInput=a},91:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.GarageContainer=void 0;var i=e(425),a=e(524),s=e(259);e(202);var c=function(t){function n(n){var e=t.call(this,n,"div",["garage-container"])||this;return e.removeCar=function(){},e.updateCar=function(){},e.updatePage=function(){},e.cars=[],e.title=new i.Component(e.element,"h2"),e.pagination=new s.Pagination(e.element),e.container=new i.Component(e.element,"div",["garage-container"]),e.pagination.updatePage=function(t){return e.updatePage(t)},e}return o(n,t),n.prototype.updateTitle=function(t){this.title.element.innerHTML="Garage - (".concat(t," cars)")},n.prototype.clear=function(){this.container.element.innerHTML="",this.cars=[]},n.prototype.addItems=function(t,n){var e=this;this.clear(),this.updateTitle(n),this.cars=t.map((function(t){var n=new a.GarageItem(e.container.element,t);return n.removeCar=function(t){return e.removeCar(t)},n.updateCar=function(t){return e.updateCar(t)},n}))},n}(i.Component);n.GarageContainer=c},524:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((r=r.apply(t,n||[])).next())}))},a=this&&this.__generator||function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(t,a)}catch(t){s=[6,t],r=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};n.__esModule=!0,n.GarageItem=void 0;var s=e(425);e(202);var c=e(810),u=e(41),l=e(724),p=function(t){function n(n,e){var r=t.call(this,n,"div",["garage-item"])||this;r.startEngine=function(){},r.stopEngine=function(){},r.removeCar=function(){},r.updateCar=function(){},r.speed=0,r.car=e;var o=new s.Component(r.element,"div",["garage-item-top"]);new c.UIButton(o.element,["btn-small"],"select").onClickButton=function(){0!==e.id&&r.updateCar(e.id)},new c.UIButton(o.element,["btn-small"],"remove").onClickButton=function(){0!==e.id&&r.removeCar(e.id),r.destroy()};var i=new s.Component(r.element,"div",["garage-item-field"]),a=new s.Component(i.element,"div",["garage-item-control-block"]);return r.startEngineButton=new c.UIButton(a.element,["btn-small"],"A"),r.startEngineButton.onClickButton=function(){0!==e.id&&r.startCarEngine(e.id)},r.stopEngineButton=new c.UIButton(a.element,["btn-small"],"B",!0),r.stopEngineButton.onClickButton=function(){0!==e.id&&r.stopCarEngine(e.id)},r.imageCar=new s.Component(i.element,"div",["car-image"]),r.imageCar.element.innerHTML=(0,u.carImage)(e.color),new s.Component(i.element,"img",["finish-flag"]).element.setAttribute("src","./assets/red-flag.svg"),r}return o(n,t),n.prototype.updateButtons=function(t){void 0===t&&(t=!1),this.startEngineButton.setDisabled(t),this.stopEngineButton.setDisabled(!t)},n.prototype.stopCarEngine=function(t){var n;return i(this,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,(0,l.stopEngineCar)(t)];case 1:return 200===e.sent().status&&(this.updateButtons(),this.speed=0,null===(n=this.carAnimation)||void 0===n||n.cancel(),this.imageCar.element.style.left="".concat(100,"px")),[2]}}))}))},n.prototype.startCarEngine=function(t){return i(this,void 0,void 0,(function(){var n,e,r;return a(this,(function(o){switch(o.label){case 0:return[4,(0,l.startEngineCar)(t)];case 1:return 200!==(n=o.sent()).status?[3,3]:(this.updateButtons(!0),e=n.result,r=e.distance/e.velocity,this.animationCar(r),[4,this.switchToDriveMode(e)]);case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},n.prototype.animationCar=function(t){var n=this;this.carAnimation=this.imageCar.element.animate([{left:"100px"},{left:"calc(100% - ".concat(100,"px)")}],{duration:t,easing:"ease-in-out"}),this.carAnimation.play(),this.carAnimation.onfinish=function(){n.imageCar.element.style.left="calc(100% - ".concat(100,"px)")}},n.prototype.switchToDriveMode=function(t){return i(this,void 0,void 0,(function(){var n,e=this;return a(this,(function(r){switch(r.label){case 0:return[4,(0,l.switchToDriveMode)(this.car.id)];case 1:return n=r.sent(),[2,new Promise((function(r){var o;500===n&&(null===(o=e.carAnimation)||void 0===o||o.pause()),200===n&&(e.speed=Math.floor(t.distance/t.velocity),r())}))]}}))}))},n.prototype.disableAllButtons=function(){this.startEngineButton.setDisabled(!0),this.stopEngineButton.setDisabled(!1)},n}(s.Component);n.GarageItem=p},805:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.OptionsButtons=void 0;var i=e(425),a=e(810),s=function(t){function n(n){var e=t.call(this,n,"div",["garage-buttons"])||this;return e.startRaceAllCars=function(){},e.resetAllCars=function(){},e.generateCars=function(){},e.buttonRace=new a.UIButton(e.element,["garage-race-button"],"race"),e.buttonRace.onClickButton=function(){return e.startRaceAllCars()},e.buttonReset=new a.UIButton(e.element,["garage-reset-button"],"reset",!0),e.buttonReset.onClickButton=function(){return e.resetAllCars()},e.buttonGenerateCars=new a.UIButton(e.element,["garage-generate-button"],"generate cars"),e.buttonGenerateCars.onClickButton=function(){return e.generateCars()},e}return o(n,t),n}(i.Component);n.OptionsButtons=s},481:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.OptionsInputs=void 0;var i=e(425),a=e(810),s=e(430),c=function(t){function n(n,e,r){var o;void 0===r&&(r=[]);var c=t.call(this,n,"div",["garage-inputs"])||this;c.createCar=function(){},c.state={name:"",color:"#000000"};var u=new i.Component(c.element,"div",["garage-input"]);return c.input=new s.UIInput(u.element,"text",["garage-input"]),c.input.getInputValue=function(t){return c.updateState("name",t)},c.inputColor=new s.UIInput(c.element,"color",["garage-color-input"],"#000000"),c.inputColor.getInputValue=function(t){return c.updateState("color",t)},c.button=new a.UIButton(c.element,["garage-button"],e),c.button.element.setAttribute("disabled",""),c.button.onClickButton=function(){c.createCar(c.state),c.resetSettings()},(o=c.element.classList).add.apply(o,r),c}return o(n,t),n.prototype.updateState=function(t,n){var e=n.target;this.state[t]=e.value,this.button.element.toggleAttribute("disabled",""===this.state.name)},n.prototype.resetSettings=function(){this.state={name:"",color:"#000000"},this.updateInputs()},n.prototype.updateInputs=function(){this.input.element.value=this.state.name,this.inputColor.element.value=this.state.color,this.button.element.setAttribute("disabled","")},n}(i.Component);n.OptionsInputs=c},0:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.GarageOptions=void 0;var i=e(425),a=e(805),s=e(481);e(78);var c=function(t){function n(n){var e=t.call(this,n,"div",["garage-options"])||this;return e.startRaceAllCars=function(){},e.resetAllCars=function(){},e.generateCars=function(){},e.createCar=function(){},e.updateCar=function(){},new s.OptionsInputs(e.element,"create",["garage-create-inputs"]).createCar=function(t){return e.createCar(t)},e.updateInputs=new s.OptionsInputs(e.element,"update",["garage-update-inputs"]),e.updateInputs.createCar=function(){e.updateCar(e.updateInputs.state)},e.optionsButtons=new a.OptionsButtons(e.element),e.optionsButtons.startRaceAllCars=function(){return e.startRaceAllCars()},e.optionsButtons.resetAllCars=function(){return e.resetAllCars()},e.optionsButtons.generateCars=function(){return e.generateCars()},e}return o(n,t),n.prototype.updateState=function(t){this.updateInputs.state=t,this.updateInputs.updateInputs()},n}(i.Component);n.GarageOptions=c},977:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.Header=void 0;var i=e(425);e(803);var a=function(t){function n(n){var e=t.call(this,n,"div",["header"])||this;e.navItems=[],e.linkToGarage=new i.Component(e.element,"a",["nav__item"],"Garage");var r=document.createElement("img");return r.classList.add("header-logo"),r.src="./assets/logo.svg",e.element.append(r),e.linkToWinners=new i.Component(e.element,"a",["nav__item"],"Winners"),e.linkToGarage.element.setAttribute("href","#/"),e.linkToWinners.element.setAttribute("href","#/winners"),e.navItems=[e.linkToGarage,e.linkToWinners],window.addEventListener("hashchange",(function(){return e.updateActive(e.navItems)})),window.addEventListener("load",(function(){return e.updateActive(e.navItems)})),e}return o(n,t),n.prototype.updateActive=function(t){this.navItems=t.map((function(t){return t.element.classList.remove("nav__item--active"),t.element.getAttribute("href")===window.location.hash&&t.element.classList.add("nav__item--active"),t}))},n}(i.Component);n.Header=a},265:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.WinnerPopup=void 0;var i=e(425);e(262);var a=function(t){function n(n,e){var r=t.call(this,n,"div",["popup-winner"])||this,o=new i.Component(r.element,"h2",["popup-winner-title"]);return o.element.style.color="".concat(e.color),o.element.innerHTML="\n      Winner \n      <span>".concat(e.name,"</span> \n      in \n      <span>").concat(e.speed,"</span>\n      sec...\n    "),r}return o(n,t),n}(i.Component);n.WinnerPopup=a},41:function(t,n,e){n.__esModule=!0,n.carImage=void 0,e(362),n.carImage=function(t){return'\n  <svg class="car-image-svg" version="1.2" baseProfile="tiny-ps" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 569" width="1280" height="569">\n    <title>1918554-svg</title>\n    <style>\n      tspan { white-space:pre }\n    </style>\n    <g id="Layer">\n      <path id="Layer" fill-rule="evenodd" style="fill: '.concat(t,'" d="M382.2 112.9L386.9 115.9L405.7 114.5C535.1 105 645.1 108.8 694.9 124.5C720.8 132.7 798.8 173.4 880.1 221.1L903.7 235L926.6 235C979.6 235.1 1079.7 245.3 1132 256.1C1185.5 267.1 1226.6 278.7 1248.8 289.1C1266.8 297.5 1272.5 303 1277.1 316.5C1279.3 323 1279.5 324.9 1279.4 342.5C1279.3 361.6 1278.4 372.3 1275.3 392.2C1273.7 402.4 1273.7 403.3 1275.5 411.2C1276.6 415.8 1277.4 423.1 1277.5 427.5C1277.5 434.5 1277.1 436.1 1274.7 440.2C1269.6 448.9 1262.3 452.6 1244.3 455.4C1235.1 456.8 1197.2 459.6 1196.5 458.8C1196.3 458.6 1196.9 455.3 1197.7 451.5C1199.7 442.6 1200 416.9 1198.2 408.5C1191.9 379 1176.1 355.5 1152.2 339.8C1112.6 314 1067.8 314.9 1027.9 342.2C999.7 361.4 984.8 386.1 982 418.1C980.9 431.7 983.2 455.5 986.5 464.2C987.2 465.9 972.5 466 687 466L386.8 466L387.6 457.8C389.2 442.4 388.5 416.5 386.3 405.9C379.5 374.1 358.1 347.6 326.5 331.7C277.7 307.3 214.1 326.7 186 374.6C176.4 391.1 172.1 407.5 171.4 430.5L170.9 446.5L167.7 446.3C155.9 445.6 69.4 437.4 59 435.9C40.2 433.3 25.2 425.7 23.5 417.8C22.6 413.8 17.6 408.4 10.3 403.5C7.1 401.4 4.4 399.5 4.2 399.4C3 398.8 0.9 380.4 1.4 375C2.4 365.3 2.4 364.9 1.1 359.1C-1.5 346.7 0.9 323 5.9 312.4C8.6 306.6 14 301 16.9 301C17.9 301 18 298.9 17.5 292.2C16 273 16.4 265.1 19.4 255.2C22.4 245.2 22.3 241.1 18.9 237.5C17.1 235.5 17.1 235.3 21.8 227.5L26.5 219.5L38 219.3C63.8 218.8 89.9 216.2 100 213C101.9 212.4 110.4 211.5 118.9 211C138.8 209.7 144.7 208.3 161 200.6C186.5 188.5 243.9 164.9 321.3 134.5C332.2 130.2 341.5 126 341.9 125.1C342.4 124.2 343.1 121 343.5 118C344.6 108.7 345.3 107.7 352.5 105.9C359.9 104 373 107.1 382.2 112.9ZM542.4 132.5L523 132.4C501 132.4 496.6 132.5 472 134C390.1 139.1 347.1 148.2 310.2 168C296.6 175.4 292.2 178.8 291 182.8C288.2 192.9 290.7 206.3 296.9 215.4C307.8 231.3 318.5 235.3 354.2 236.9C392.4 238.7 558.9 243.4 559.6 242.7C559.9 242.4 555.8 211.1 552.5 188.5C549.5 167.5 545 141.5 543.7 137L542.4 132.5ZM583 134L578.3 134L595.8 188L613.4 242L794.2 242L793.3 237.7C791.8 230.1 792.4 222.7 794.8 218.8C797.4 214.7 804 211 808.8 211C810.6 211 812 210.7 812 210.2C811.9 209 788.1 191.9 774 183.1C747.1 166.2 723 155.1 702 149.9C680.3 144.6 646.9 139.6 608.6 136C597.1 134.9 585.5 134 583 134Z" />\n      <path id="Layer" fill-rule="evenodd" style="fill: ').concat(t,'" d="M306.2 328.9C343.9 338.7 372.8 367.9 382.2 405.7C385.2 417.6 385.4 440.7 382.6 452.4C370.9 502.4 325.7 536.6 275 533.7C230 531.1 191.6 499.6 180.3 456C177.2 444.2 176.2 426.7 177.9 415C184.3 371.5 218.6 335.7 261.7 327.5C272.6 325.5 295.7 326.2 306.2 328.9ZM267.5 357.4C252.7 360.2 240.1 367 229 378C217.8 389.2 211.4 401.4 208.4 416.6C197.9 471.7 252.2 518 305.3 499.4C328.4 491.4 346.8 471.2 352.6 447.5C355 438 354.9 420.7 352.6 412C348.5 396.9 339.1 382.1 327.5 372.7C320.4 367 307.9 360.6 299.5 358.5C291 356.3 275.9 355.8 267.5 357.4Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M291.8 383.2C292 392.2 292.5 399.9 293 400.4C294.7 402.1 303.8 394.6 313.1 383.8L318.2 378.1L313.4 375C308.2 371.7 300.3 368.5 294.9 367.5L291.5 366.9L291.8 383.2Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M259.1 370C252.9 372.2 242.4 378.2 242.7 379.4C243 380.7 266.4 401 267.6 401C268.3 401 269.1 400.3 269.4 399.4C270.2 397.4 270.2 386.7 269.3 376.2C268.6 366.7 268.5 366.6 259.1 370Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M320.9 404.5C315.2 410.9 310.4 416.8 310.2 417.6C309.6 420.1 314.8 421.1 325.9 420.5C331.7 420.2 338 419.7 339.8 419.4C343.1 418.9 343.2 418.8 342.5 415.2C341.8 410.8 336.1 398.5 333.3 395.1L331.4 392.7L320.9 404.5Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M226 399.1C222.9 403.5 219.2 412.4 218.3 417.7L217.7 421L233.2 421C249.7 421 253.3 420.1 251.3 416.6C250 414.2 230.9 395 229.9 395C229.4 395 227.7 396.8 226 399.1Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M278.6 404.6C275 408.1 278.6 413.3 283 411C285.6 409.6 285.6 405.4 283.1 404C280.6 402.7 280.4 402.7 278.6 404.6Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M275.1 421.4C269.4 424.6 268.3 432.5 272.9 437.1C277.2 441.3 283 441.4 287.2 437.2C291.4 433 291.3 427.2 287.1 422.9C283.8 419.7 279.3 419.1 275.1 421.4Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M256 426.4C254.1 428.7 255.2 432.5 257.8 432.8C262.2 433.5 264.5 429.6 261.4 426.6C259.5 424.6 257.6 424.6 256 426.4Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M300.2 427.6C297.5 429.5 297.4 431.2 299.9 433.4C302.4 435.7 306 434 306 430.5C306 427.2 303 425.6 300.2 427.6Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M224.5 440.7C216.8 441.3 216.9 441.2 218.6 447.2C220.2 452.7 224.7 461.8 227.8 465.8L229.6 468.1L239.9 455.9C245.6 449.2 250.3 443 250.4 442.1C250.5 440.7 249 440.5 240 440.4C234.2 440.4 227.3 440.5 224.5 440.7Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M316.5 441.9C312.1 442.3 310.4 442.9 310.2 444.1C309.9 445.7 331.2 467 333 467C335.2 467 341.6 452.9 343.5 444.2L344.2 441L333.3 441.2C327.4 441.3 319.8 441.6 316.5 441.9Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M277.6 448.6C275.7 450.4 275.7 450.6 277 453.1C277.6 454.2 279.1 455 280.5 455C282.5 455 285 452.6 285 450.6C285 449.6 281.8 447 280.5 447C279.8 447 278.4 447.7 277.6 448.6Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M258.9 465.7C250.3 474.7 245 480.8 245 481.9C245 484.4 262.9 492 268.6 492L271.3 492L270.6 477.7C269.7 461.1 269.3 459 267.1 459C266.2 459 262.5 462 258.9 465.7Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M293.6 459.9C293 460.9 291.2 476.7 290.7 485.7C290.4 491.7 290.5 492 292.6 492C300.5 492 318.8 485.2 317.4 482.8C316.9 482.1 312.1 476.4 306.6 470.2C297.3 459.7 294.9 457.8 293.6 459.9Z" />\n      <path id="Layer" fill-rule="evenodd" style="fill: ').concat(t,'" d="M1177.4 372.3C1211.7 424 1193.4 494.1 1138.2 522.3C1112.5 535.4 1085.4 537.5 1058 528.4C1045.7 524.3 1038.1 520.2 1026.9 511.8C988.2 482.6 975.7 427.1 998 383C1012.6 354.1 1040.5 333.3 1072.3 327.5C1112.3 320.2 1154.9 338.4 1177.4 372.3ZM1068.9 359.5C1036.5 370 1015.3 400.5 1017.3 434C1018.9 460.8 1034.6 484.4 1058.5 496C1104.4 518.2 1157.3 489.4 1164 438.6C1168.7 403.3 1145.6 368.8 1110.8 359C1097.8 355.3 1081.1 355.5 1068.9 359.5Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1101.7 383.2C1102 392.2 1102.6 399.9 1103.1 400.4C1104.4 401.8 1108.4 398.6 1118.6 388.2L1128.1 378.5L1125.8 376.7C1120.8 372.7 1106.9 367 1102.3 367C1101.3 367 1101.2 370.3 1101.7 383.2Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1070.5 369.4C1065.5 371 1057.2 375.2 1054.2 377.6L1051.9 379.5L1064 390.2C1070.7 396.2 1076.8 401 1077.5 401C1079.8 401 1080.2 397.1 1079.5 382.4C1078.7 366.2 1079.1 366.7 1070.5 369.4Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1130.7 404.6C1124.8 411.1 1120 417.2 1120 418.2C1120 419.3 1121.1 420 1123.8 420.4C1128.2 421.1 1151.6 419.7 1152.7 418.7C1154.2 417.1 1147.6 400.4 1143.3 395.1L1141.4 392.7L1130.7 404.6Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1036.2 398.7C1032.3 404.9 1029.2 412.1 1028.4 417.1L1027.7 421L1042.9 421C1051.5 421 1059 420.5 1060.1 420C1061.8 419 1061.9 418.7 1060.6 416.2C1059.8 414.7 1054.7 409.1 1049.2 403.7L1039.3 393.8L1036.2 398.7Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1088.8 404.1C1086.4 405.5 1086.5 409.7 1089 411C1093.4 413.3 1097 408.1 1093.4 404.6C1091.6 402.7 1091.1 402.7 1088.8 404.1Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1085.1 421.3C1080.2 424.2 1078.5 431.4 1081.6 435.9C1082.5 437.2 1084.8 438.8 1086.6 439.6C1089.5 440.8 1090.5 440.8 1093.4 439.6C1103.3 435.5 1101.9 421.6 1091.5 420.4C1089.1 420.1 1086.5 420.5 1085.1 421.3Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1066 426.4C1064.1 428.7 1065.2 432.5 1067.8 432.8C1072.2 433.5 1074.5 429.6 1071.4 426.6C1069.5 424.6 1067.6 424.6 1066 426.4Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1109.6 427.6C1108.7 428.4 1108 429.8 1108 430.5C1108 431.8 1110.6 435 1111.6 435C1113.6 435 1116 432.5 1116 430.5C1116 429.1 1115.2 427.6 1114.1 427C1111.6 425.7 1111.4 425.7 1109.6 427.6Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1033.5 440.9C1027.5 441.5 1027.5 441.5 1027.8 444.5C1028.7 451.4 1038.2 469.3 1040 467.4C1045.7 461.3 1061 442.4 1060.7 441.6C1060.3 440.4 1043.1 439.9 1033.5 440.9Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1126.7 441.7C1119.9 442.2 1118.8 443.6 1122 447.7C1124.3 450.8 1142 467 1143 467C1143.3 467 1145 464.6 1146.7 461.7C1149.6 456.9 1151.9 450.6 1153.4 443.7L1154 441L1143.3 441.2C1137.3 441.3 1129.9 441.5 1126.7 441.7Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1087 449C1085.4 452.1 1087.4 455.2 1090.8 454.8C1092.9 454.6 1093.6 453.9 1093.8 451.6C1094.3 447.1 1089.1 445.1 1087 449Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1065.1 469.7C1059.5 475.6 1055 481 1055 481.7C1055 484.5 1072.2 492 1078.7 492L1081.3 492L1080.6 479.7C1079.6 461.8 1079.1 459 1077 459C1076 459 1070.7 463.8 1065.1 469.7Z" />\n      <path id="Layer" style="fill: ').concat(t,'" d="M1103.5 459.9C1102.8 461.1 1101.2 474.3 1100.6 484.2C1100.2 491.9 1100.2 492 1102.5 492C1107 492 1115.5 489.8 1121.8 486.9L1128.2 484L1126.3 481.7C1119.8 473.5 1106.5 459 1105.4 459C1104.7 459 1103.9 459.4 1103.5 459.9Z" />\n    </g>\n  </svg>')}},272:function(t,n){n.__esModule=!0,n.randomRGBColor=void 0,n.randomRGBColor=function(t,n){void 0===t&&(t=0),void 0===n&&(n=255);var e=function(){return t+Math.floor(Math.random()*(n-t+1))},r=e(),o=e(),i=e();return"rgb(".concat(r,",").concat(o,",").concat(i,")")}},259:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.Pagination=void 0;var i=e(425),a=e(810);e(191);var s=function(t){function n(n){var e=t.call(this,n,"div",["pagination"])||this;return e.updatePage=function(){},e.page=1,e.title=new i.Component(e.element,"h3",["pagination__title"],"Page #".concat(e.page)),e.prevButton=new a.UIButton(e.element,["btn-prev"],"Prev",!0),e.prevButton.onClickButton=function(){return e.switchPage("prev")},e.nextButton=new a.UIButton(e.element,["btn-next"],"Next"),e.nextButton.onClickButton=function(){return e.switchPage("next")},e}return o(n,t),n.prototype.updateNextButton=function(t,n,e){t>n/e?this.nextButton.setDisabled(!0):this.nextButton.setDisabled(!1)},n.prototype.updatePrevButton=function(){1===this.page?this.prevButton.setDisabled(!0):this.prevButton.setDisabled(!1)},n.prototype.switchPage=function(t){"prev"===t&&this.page>1&&this.page--,"next"===t&&this.page++,this.title.element.innerHTML="Page #".concat(this.page),this.updatePage(this.page),this.updatePrevButton()},n}(i.Component);n.Pagination=s},874:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((r=r.apply(t,n||[])).next())}))},a=this&&this.__generator||function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(t,a)}catch(t){s=[6,t],r=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};n.__esModule=!0,n.WinnersContainer=void 0;var s=e(425),c=e(27),u=e(724),l=e(259);e(500);var p=function(t){function n(n){var e=t.call(this,n,"div",["winners-container"])||this;e.updatePage=function(){},e.sortWinners=function(){},e.winnersList=[],e.title=new s.Component(e.element,"h2",["winners-title"]),e.pagination=new l.Pagination(e.element),e.pagination.updatePage=function(t){return e.updatePage(t)};var r=new s.Component(e.element,"div",["winner-item","winner-items-title"]);r.element.innerHTML='\n      <div class="winner-item-id">№</div>\n      <div class="winner-item-image">Car Image</div>\n      <div class="winner-item-name">Name</div>\n      <div class="winner-item-wins">\n        <span>Total Wins</span>\n        <img class="winner-item-arrow" src="./assets/arrow.svg" />\n      </div>\n      <div class="winner-item-time">\n        <span>Time (sec)</span>\n        <img class="winner-item-arrow" src="./assets/arrow.svg" />\n      </div>\n    ';var o=r.element.querySelector(".winner-item-wins");null==o||o.addEventListener("click",(function(){return e.handleSortWinners(o,"wins")}));var i=r.element.querySelector(".winner-item-time");return null==i||i.addEventListener("click",(function(){return e.handleSortWinners(i,"time")})),e.container=new s.Component(e.element,"div"),e}return o(n,t),n.prototype.handleSortWinners=function(t,n){t.classList.toggle("winner-item-active"),t.classList.contains("winner-item-active")?this.sortWinners(n,"ASC"):this.sortWinners(n,"DESC")},n.prototype.updateTitle=function(t){this.title.element.innerHTML="Winners - (".concat(t," cars)")},n.prototype.getCar=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,(0,u.getCar)(t)];case 1:return[2,n.sent()]}}))}))},n.prototype.addWinners=function(t){var n=this;this.container.element.innerHTML="",this.winnersList=t.result;var e=1;t.totalCount&&this.updateTitle(t.totalCount),this.winnersList.forEach((function(t){return i(n,void 0,void 0,(function(){var n,r;return a(this,(function(o){switch(o.label){case 0:return[4,this.getCar(t.id)];case 1:return(n=o.sent())&&(r={id:e++,name:n.name,color:n.color,wins:t.wins,time:t.time},new c.WinnersItem(this.container.element,r)),[2]}}))}))}))},n}(s.Component);n.WinnersContainer=p},27:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)});n.__esModule=!0,n.WinnersItem=void 0;var i=e(425),a=e(41),s=function(t){function n(n,e){var r=t.call(this,n,"div",["winners-item"])||this,o=e.id,s=e.name,c=e.color,u=e.wins,l=e.time;return new i.Component(r.element,"div",["winner-item"]).element.innerHTML='\n      <div class="winner-item-id">'.concat(o,'</div>\n      <div class="winner-item-image">').concat((0,a.carImage)(c),'</div>\n      <div class="winner-item-name">').concat(s,'</div>\n      <div class="winner-item-wins">').concat(u,'</div>\n      <div class="winner-item-time">').concat(l,"</div>\n    "),r}return o(n,t),n}(i.Component);n.WinnersItem=s},275:function(t,n){n.__esModule=!0,n.cars=void 0,n.cars={mark:["bmw","mazda","volvo","mercedes-benz","ferrari","nissan","honda","porsche","tesla","toyota"],model:["rx","x7","m22","s63","488","r34","civic","570","model x","499"]}},535:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((r=r.apply(t,n||[])).next())}))},a=this&&this.__generator||function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(t,a)}catch(t){s=[6,t],r=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};n.__esModule=!0,n.Garage=void 0;var s=e(91),c=e(425),u=e(0),l=e(724),p=e(272),f=e(275),d=e(265),h=function(t){function n(n){var e=t.call(this,n,"div",["garage"])||this;return e.page=1,e.getAllCars(e.page),e.garageOptions=new u.GarageOptions(e.element),e.garageOptions.createCar=function(t){return i(e,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,this.createCar(t)];case 1:return n.sent(),[4,this.getAllCars(this.page)];case 2:return n.sent(),[2]}}))}))},e.garageOptions.updateCar=function(t){return e.updateCar(t)},e.garageOptions.startRaceAllCars=function(){return e.startRaceAllCars()},e.garageOptions.resetAllCars=function(){return e.resetAllCars()},e.garageOptions.generateCars=function(){return e.generateRandomCars()},e.garageContainer=new s.GarageContainer(e.element),e.garageContainer.removeCar=function(t){return e.removeCar(t)},e.garageContainer.updateCar=function(t){return e.getCar(t)},e.garageContainer.updatePage=function(t){e.page=t,e.getAllCars(t)},e}return o(n,t),n.prototype.getAllCars=function(t){return i(this,void 0,void 0,(function(){var n,e,r;return a(this,(function(o){switch(o.label){case 0:return[4,(0,l.getAllCars)(t)];case 1:return(n=o.sent())&&(e=n.cars,r=n.count,this.garageContainer.addItems(e,r),this.garageContainer.pagination.updateNextButton(this.page,+r,7)),[2]}}))}))},n.prototype.getCar=function(t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return[4,(0,l.getCar)(t)];case 1:return(n=e.sent())&&this.garageOptions.updateState(n),[2]}}))}))},n.prototype.updateCar=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,(0,l.updateCar)(t)];case 1:return n.sent(),[4,this.getAllCars(this.page)];case 2:return n.sent(),[2]}}))}))},n.prototype.createCar=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,(0,l.createCar)(t)];case 1:return n.sent(),[2]}}))}))},n.prototype.removeCar=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,(0,l.deleteCar)(t)];case 1:return n.sent(),[4,(0,l.deleteWinner)(t)];case 2:return n.sent(),[4,this.getAllCars(this.page)];case 3:return n.sent(),[2]}}))}))},n.prototype.generateRandomCars=function(){return i(this,void 0,void 0,(function(){var t,n,e,r;return a(this,(function(o){switch(o.label){case 0:for(this.garageOptions.optionsButtons.buttonRace.setDisabled(!0),this.garageOptions.optionsButtons.buttonGenerateCars.setDisabled(!0),t=f.cars.mark,n=f.cars.model,e=0;e<=100;e-=-1)r="".concat(t[Math.floor(Math.random()*t.length)]," ").concat(n[Math.floor(Math.random()*n.length)]),this.createCar({name:r,color:(0,p.randomRGBColor)()});return[4,this.getAllCars(this.page)];case 1:return o.sent(),this.garageOptions.optionsButtons.buttonRace.setDisabled(!1),this.garageOptions.optionsButtons.buttonGenerateCars.setDisabled(!1),[2]}}))}))},n.prototype.startRaceAllCars=function(){return i(this,void 0,void 0,(function(){var t,n,e,r=this;return a(this,(function(o){switch(o.label){case 0:return this.garageOptions.optionsButtons.buttonRace.setDisabled(!0),this.garageOptions.optionsButtons.buttonGenerateCars.setDisabled(!0),t=this.garageContainer.cars.map((function(t){return i(r,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,t.startCarEngine(t.car.id)];case 1:return n.sent(),t.disableAllButtons(),[2,t]}}))}))})),[4,Promise.race(t)];case 1:return n=o.sent(),e={id:n.car.id,name:n.car.name,color:n.car.color,speed:+(n.speed/1e3).toFixed(2),wins:1},this.winnerPopup=new d.WinnerPopup(this.element,e),this.garageOptions.optionsButtons.buttonReset.removeDisabled(),setTimeout((function(){var t;return null===(t=r.winnerPopup)||void 0===t?void 0:t.destroy()}),5e3),[4,this.createOrUpdateWinner(e)];case 2:return o.sent(),[2]}}))}))},n.prototype.createOrUpdateWinner=function(t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return[4,(0,l.getWinner)(t.id)];case 1:return 200!==(n=e.sent()).status?[3,3]:(n.result.wins++,t.wins=n.result.wins,[4,this.updateWinner(t)]);case 2:return e.sent(),[3,5];case 3:return[4,this.createWinner(t)];case 4:e.sent(),e.label=5;case 5:return[2]}}))}))},n.prototype.createWinner=function(t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return n={id:t.id,wins:1,time:t.speed},[4,(0,l.createWinner)(n)];case 1:return e.sent(),[2]}}))}))},n.prototype.updateWinner=function(t){return i(this,void 0,void 0,(function(){var n;return a(this,(function(e){switch(e.label){case 0:return n={id:t.id,wins:t.wins,time:t.speed},[4,(0,l.updateWinner)(n)];case 1:return e.sent(),[2]}}))}))},n.prototype.resetAllCars=function(){var t,n=this;this.garageOptions.optionsButtons.buttonReset.setDisabled(!0);var e=null===(t=this.garageContainer.cars)||void 0===t?void 0:t.map((function(t){return i(n,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,t.stopCarEngine(t.car.id)];case 1:return n.sent(),[2]}}))}))}));Promise.all(e).then((function(){n.garageOptions.optionsButtons.buttonRace.removeDisabled(),n.garageOptions.optionsButtons.buttonGenerateCars.removeDisabled()}))},n}(c.Component);n.Garage=h},654:function(t,n,e){var r,o=this&&this.__extends||(r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},r(t,n)},function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}r(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),i=this&&this.__awaiter||function(t,n,e,r){return new(e||(e=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function s(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var n;t.done?o(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(a,s)}c((r=r.apply(t,n||[])).next())}))},a=this&&this.__generator||function(t,n){var e,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(e=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=n.call(t,a)}catch(t){s=[6,t],r=0}finally{e=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};n.__esModule=!0,n.Winners=void 0;var s=e(425),c=e(874),u=e(724),l=function(t){function n(n){var e=t.call(this,n,"div",["winners"])||this;return e.winnersContainer=new c.WinnersContainer(e.element),e.page=1,e.getAllWinners(),e.winnersContainer.updatePage=function(t){e.page=t,e.getAllWinners(e.page)},e.winnersContainer.sortWinners=function(t,n){e.getAllWinners(e.page,t,n)},e}return o(n,t),n.prototype.getAllWinners=function(t,n,e){return void 0===t&&(t=0),void 0===n&&(n="id"),void 0===e&&(e="ASC"),i(this,void 0,void 0,(function(){var r,o;return a(this,(function(i){switch(i.label){case 0:return[4,(0,u.getAllWinners)(t,n,e)];case 1:return r=i.sent(),o=+r.totalCount,this.winnersContainer.pagination.updateNextButton(this.page,o,10),this.winnersContainer.addWinners(r),[2]}}))}))},n}(s.Component);n.Winners=l},440:function(t,n,e){n.__esModule=!0,n.Router=void 0;var r=e(535),o=e(654),i=function(){function t(t){var n=this;this.rootElement=t,this.garagePage=new r.Garage(this.rootElement),this.routes=[{name:"/",component:function(){n.rootElement.append(n.garagePage.element)}},{name:"/winners",component:function(){n.winnersPage=new o.Winners(n.rootElement),n.rootElement.append(n.winnersPage.element)}}],this.defaultRoute={name:"Default router",component:function(){n.rootElement.innerHTML="Default Page"}}}return t.prototype.updateRouter=function(){this.rootElement.innerHTML="";var t=window.location.hash.slice(1);(this.routes.find((function(n){return n.name===t}))||this.defaultRoute).component()},t.prototype.initRouter=function(){var t=this;""===window.location.hash&&(window.location.hash="#/"),window.onpopstate=function(){return t.updateRouter()},this.updateRouter()},t}();n.Router=i},425:function(t,n){n.__esModule=!0,n.Component=void 0;var e=function(){function t(t,n,e,r){var o;void 0===n&&(n="div"),void 0===e&&(e=[]),void 0===r&&(r=""),this.element=document.createElement(n),(o=this.element.classList).add.apply(o,e),this.element.textContent=r,t&&t.append(this.element)}return t.prototype.destroy=function(){this.element.remove()},t}();n.Component=e}},e={};function r(t){var o=e[t];if(void 0!==o)return o.exports;var i=e[t]={exports:{}};return n[t].call(i.exports,i,i.exports,r),i.exports}r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t=r(752),r(850),window.addEventListener("DOMContentLoaded",(function(){var n=document.body;new t.App(n).init()}))}();